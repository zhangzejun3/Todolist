{"version":3,"sources":["TodoInput.js","TodoItem.js","SignUpForm.js","SignInForm.js","SignInOrSignUp.js","ForgetPasswordForm.js","leanCloud.js","JSONParseAndStringify.js","UserDialog.js","App.js","index.js"],"names":["TodoInput","this","input","focus","_this","react_default","a","createElement","type","value","props","content","onKeyPress","submit","bind","onChange","changeTitle","ref","placeholder","e","key","target","trim","onSubmit","Component","TodoItem","className","checked","todo","status","toggle","title","onClick","delete","onToggle","onDelete","SignUpForm","formData","email","username","password","SignInForm","href","SignInOrSignUp","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","selected","setState","onSignIn","onSignUp","ForgetPasswordForm","AV","init","appId","appKey","TodoModel","getByUser","user","successFn","errorFn","query","Query","equalTo","find","then","response","array","map","item","objectSpread","id","attributes","error","create","_ref","deleted","extend","set","acl","ACL","setPublicReadAccess","setWriteAccess","User","current","setReadAccess","setACL","save","update","_ref2","createWithoutData","undefined","destory","todoId","getCurrentUser","getUserFormAVUser","AVUser","JSONParseAndStringify","JSON","parse","stringify","UserDialog","selectedTab","_this2","preventDefault","_this$state$formData","usernameLength","length","passwordLength","alert","logIn","loggedInUser","signIn","code","_this3","_this$state$formData2","setUsername","setPassword","setEmail","signUp","stateCopy","SignInOrSignUp_SignInOrSignUp","changeFormData","showForgetPassword","ForgetPasswordForm_ForgetPasswordForm","resetPassword","returnToSignIn","reg","RegExp","match","requestPasswordReset","sendPasswordResetEmail","App","newTodo","todoList","todos","filter","index","src_TodoItem","onSignOut","src_TodoInput","addTodo","src_UserDialog_0","onSignUpOrSignIn","logOut","event","_this4","_this5","oldStatus","_this6","push","console","log","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.14e59367.chunk.js","sourcesContent":["import React,{Component} from 'react'\n\nclass TodoInput extends Component{\n    componentDidMount(){\n        this.input.focus()\n    }\n    componentDidUpdate(){\n        this.input.focus()\n    }\n    render(){\n        return(\n            <input type='text' value={this.props.content}\n            onKeyPress={this.submit.bind(this)}\n            onChange={this.changeTitle.bind(this)}\n            ref={(input)=>{this.input = input}}\n            placeholder='在此输入'/>\n        )\n    }\n    submit(e){\n        if(e.key ==='Enter'){\n            if(e.target.value.trim()!==''){\n                this.props.onSubmit(e) \n            }      \n        }\n    }\n    changeTitle(e){\n        this.props.onChange(e)\n    }\n}\n\nexport default TodoInput","import React, { Component } from 'react'\n\nclass TodoItem extends Component {\n    render() {\n        return (\n            <div className=\"itemWrapper\">\n                <input type=\"checkbox\" \n                checked={this.props.todo.status === 'completed'}\n                    onChange={this.toggle.bind(this)} />\n                <span>{this.props.todo.title}</span>\n                <button onClick={this.delete.bind(this)}>删除</button>\n            </div>\n        )\n    }\n    toggle(e){\n        this.props.onToggle(e,this.props.todo)\n    }\n    delete(e){\n        this.props.onDelete(e,this.props.todo)\n    }\n}\n\nexport default TodoItem\n","import React from 'react'\n\nexport default function(props){\n    return(\n        <form className='signUp' onSubmit={props.onSubmit.bind(this)}>\n        <div className=\"row\">\n            <input placeholder='邮箱' type=\"text\" \n            value={props.formData.email}\n            onChange={props.onChange.bind(this,'email')}/>\n        </div>\n        <div className=\"row\">\n            <input placeholder='用户名' type=\"text\" \n            value={props.formData.username}\n            onChange={props.onChange.bind(this,'username')}/>\n        </div>\n        <div className=\"row\">\n            <input  placeholder='密码' type=\"password\" \n            value={props.formData.password}\n            onChange={props.onChange.bind(this,'password')}/>\n        </div>\n        <div className=\"row actions\">\n            <button type='submit'>注册</button>\n        </div>\n    </form>\n    )\n    \n}","import React from 'react'\n\nexport default function (props){\n    return(\n        <form className='signIn' onSubmit={props.onSubmit.bind(this)}>\n        <div className=\"row\">\n            <input placeholder='用户名' type=\"text\" value={props.formData.username}\n            onChange={props.onChange.bind(this,'username')}/>\n        </div>\n        <div className=\"row\">\n            <input placeholder='密码' type=\"password\" value={props.formData.password}\n            onChange={props.onChange.bind(this,'password')}/>\n        </div>\n        <div className=\"row actions\">\n            <button type='submit'>登录</button>\n            <div className=\"forgetPasswordWrapper clearfix\">\n            <a href=\"#\" onClick={props.onClick.bind(this)}>忘记密码</a>            </div>\n        </div>\n    </form>\n    )\n    \n}","import React, { Component } from 'react'\nimport SignUpForm from './SignUpForm'\nimport SignInForm from './SignInForm'\n\nexport default class SignInOrSignUp extends Component{\n    constructor(){\n        super()\n        this.state={\n            selected:'signIn'\n        }\n    }\n    toggle(e) {\n        this.setState({\n            selected: e.target.value\n        })\n    }\n    render(){\n        return(\n            <div className=\"signInOrSignUp\">\n                <h1>Welcome</h1>\n                <div className=\"formWrapper\">\n                    {this.state.selected === 'signIn' \n                    ? <SignInForm formData={this.props.formData}\n                    onSubmit={this.props.onSignIn.bind(this)}\n                    onChange={this.props.onChange.bind(this)}\n                    onClick={this.props.onClick.bind(this)}/>\n                    : <SignUpForm formData={this.props.formData}\n                    onSubmit={this.props.onSignUp.bind(this)}\n                    onChange={this.props.onChange.bind(this)}/>}\n                </div>\n                <footer className='clearfix'>\n                    <button value='signUp'\n                        onClick={this.toggle.bind(this)}>注册</button>\n                    <button value='signIn'\n                        onClick={this.toggle.bind(this)}>登录</button>\n                </footer>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\n\nexport default class ForgetPasswordForm extends Component{\n    render(){\n        return(\n            <div className=\"forgetPassword\">\n                <h1>重置密码</h1>\n                <form className=\"forgetPasswordForm\"\n                    onSubmit={this.props.onSubmit.bind(this)}>\n                    <div className=\"row\">\n                        <input type=\"text\"\n                            value={this.props.formData.email}\n                            placeholder='邮箱'\n                            onChange={this.props.onChange.bind(this, 'email')} />\n                    </div>\n                    <div className=\"row actions\">\n                        <button type='submit'>发送重置邮件</button>\n                        <a href=\"#\"\n                            onClick={this.props.onClick.bind(this)}>返回登录</a>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\n","import AV from 'leancloud-storage'\n\nvar APP_ID = 'rrfsGl7WT9nC6eSI9EsKgf98-gzGzoHsz';\nvar APP_KEY = 'zoP5Iwsm3ugh9FwLRhweO8jq';\n\nAV.init({\n  appId: APP_ID,\n  appKey: APP_KEY\n});\n\nexport default AV\n\nexport const TodoModel = {\n  getByUser(user, successFn, errorFn) {\n    let query = new AV.Query('Todo');\n    query.equalTo('deleted',false)\n    query.find().then(function (response) {\n      let array = response.map((item)=>{\n        return {\n          id:item.id,\n          ...item.attributes\n        }\n      })\n      successFn.call(null,array)\n    },(error)=>{\n      errorFn&&errorFn.call(null,error)\n    })\n  },\n  create({ status, title, deleted }, successFn, errorFn) {\n    let Todo = AV.Object.extend('Todo')\n    // 新建对象\n    let todo = new Todo();\n    // 设置名称\n    todo.set('title', title);\n    // 设置优先级\n    todo.set('status', status);\n    todo.set('deleted', deleted);\n\n    // 新建一个 ACL 实例\n    let acl = new AV.ACL();\n    acl.setPublicReadAccess(false);\n    acl.setWriteAccess(AV.User.current(), true);\n    acl.setReadAccess(AV.User.current(), true);\n\n    // 将 ACL 实例赋予 Todo 对象\n    todo.setACL(acl);\n\n    todo.save().then(function (response) {\n      successFn.call(null, response.id)\n    }, function (error) {\n      errorFn && errorFn.call(null, error)\n    });\n  },\n  update({ id, title, status, deleted }, successFn, errorFn) {\n    // 第一个参数是 className，第二个参数是 objectId\n    let todo = AV.Object.createWithoutData('Todo', id);\n    // 修改属性\n    title!==undefined&&todo.set('title', title)\n    status!==undefined&&todo.set('status', status);\n    deleted!==undefined&&todo.set('deleted', deleted);\n    // 保存到云端\n    todo.save().then((response)=>{\n      successFn&&successFn.call(null)\n    },(error)=>{\n      errorFn&&errorFn.call(null,error)\n    });\n\n  },\n  destory(todoId,successFn,errorFn){\n    // let todo = AV.Object.createWithoutData('Todo', todoId);\n    // todo.destroy().then(function (success) {\n    //   successFn && successFn.call(null)\n    //   // 删除成功\n    // }, function (error) {\n    //   // 删除失败\n    //   errorFn && errorFn.call(null, error)\n    // });\n    TodoModel.update({id:todoId,deleted:true},successFn,errorFn)\n  }\n}\n\nexport function signUp(email,username,password,successFn,errorFn){\n  // 新建 AVUser 对象实例\n  var user = new AV.User();\n  // 设置用户名\n  user.setUsername(username);\n  // 设置密码\n  user.setPassword(password);\n  // 设置邮箱\n  user.setEmail(email);\n  user.signUp().then(function (loggedInUser) {\n    let user = getUserFormAVUser(loggedInUser)\n    successFn.call(null,user)\n  }, function (error) {\n    errorFn.call(null,error)\n  });\n  return undefined\n}\nexport function signIn(username,password,successFn,errorFn){\n  AV.User.logIn(username, password).then(function (loggedInUser) {\n    let user = getUserFormAVUser(loggedInUser)\n    successFn.call(null,user)\n  }, function (error) {\n    errorFn.call(null,error)\n  });\n}\nexport function signOut(){\n  AV.User.logOut()\n  return undefined\n}\nexport function getCurrentUser(){\n  let user = AV.User.current()\n  if(user){\n    return getUserFormAVUser(user)\n  }else{\n    return {}\n  }\n}\n\nexport function sendPasswordResetEmail(email,successFn,errorFn){\n  AV.User.requestPasswordReset(email).then(function () {\n    alert('发送成功')\n    successFn.call()\n  }, function (error) {\n    switch (error.code) {\n      case 1:\n        alert('请不要往同一个邮件地址发送太多邮件')\n        break\n      case 204:\n        alert('没有提供电子邮箱地址')\n        break\n      case 205:\n        alert('找不到电子邮箱地址对应的用户')\n        break\n      default:\n        alert(error)\n        break\n    }\n    errorFn.call(null,error)\n  });\n}\n\nfunction getUserFormAVUser(AVUser){\n  return {\n    id : AVUser.id,\n    ...AVUser.attributes\n\n  }\n}","export default function (props){\n    return JSON.parse(JSON.stringify(props))\n}","import React, { Component } from 'react'\nimport './UserDialog.css'\nimport SignInOrSignUp from './SignInOrSignUp'\nimport ForgetPasswordForm from './ForgetPasswordForm'\nimport {signUp,signIn,sendPasswordResetEmail} from './leanCloud'\nimport JSONParseAndStringify from './JSONParseAndStringify'\n\nclass UserDialog extends Component {\n    constructor() {\n        super()\n        this.state = {\n            selectedTab:'signInOrSignUp',\n            formData:{\n                email:'',\n                username:'',\n                password:''\n            }\n        }\n    }\n    signIn(e){\n        e.preventDefault()\n        let {username,password} = this.state.formData\n        let success = (user)=>{\n            this.props.onSignIn.call(null,user)\n        }\n        let error = (error)=>{\n            switch (error.code) {\n                case 210:\n                    alert('用户名与密码不匹配')\n                    break\n                case 211:\n                    alert('找不到用户')\n                    break\n                default:\n                    alert(error)\n                    break\n            }\n        }\n        let usernameLength = username.trim().length\n        let passwordLength = password.trim().length\n        if (username === '') {\n            alert('用户名为空')\n        } else if (password === '') {\n            alert('密码为空')\n        } else if (usernameLength <= 3) {\n            alert('用户名必须大于三个字符')\n        } else if (passwordLength < 6) {\n            alert('密码必须不小于6个字符')\n        } else {\n            signIn(username, password, success, error)\n        }\n    }\n    signUp(e){\n        e.preventDefault()\n        let {email,username,password} = this.state.formData\n        let success = (user)=>{\n            this.props.onSignUp.call(null,user)\n        }\n        let error = (error)=>{\n            switch(error.code){\n                case 202:\n                alert('用户名已被占用')\n                break\n                case 203:\n                alert('邮箱已被占用')\n                break\n                case 125:\n                alert('电子邮箱地址无效')\n                break\n                default:\n                alert(error)\n                break\n            }\n        }\n        let usernameLength = username.trim().length\n        let passwordLength = password.trim().length\n        if(email===''){\n            alert('邮箱为空')\n        }else if(username===''){\n            alert('用户名为空')\n        }else if(password===''){\n            alert('密码为空')\n        }else if (usernameLength<=3){\n            alert('用户名必须大于三个字符')\n        }else if(passwordLength<6){\n            alert('密码必须不小于6个字符')\n        }else{\n            signUp(email, username, password, success, error)\n        }\n    }\n    changeFormData(key,e){\n        let stateCopy = JSONParseAndStringify(this.state)\n        stateCopy.formData[key] = e.target.value\n        this.setState(stateCopy)\n    }\n    render() {\n        return (\n            <div className=\"UserDialogWrapper\">\n                <div className=\"UserDialog\">\n                    {this.state.selectedTab==='signInOrSignUp'\n                    ?<SignInOrSignUp formData={this.state.formData}\n                    onSignIn={this.signIn.bind(this)}\n                    onSignUp={this.signUp.bind(this)}\n                    onChange={this.changeFormData.bind(this)}\n                    onClick={this.showForgetPassword.bind(this)}/>\n                    :<ForgetPasswordForm formData={this.state.formData}\n                    onSubmit={this.resetPassword.bind(this)}\n                    onChange={this.changeFormData.bind(this)}\n                    onClick={this.returnToSignIn.bind(this)}/>}\n                </div>\n            </div>\n        )\n    }\n    showForgetPassword(){\n        let stateCopy = JSONParseAndStringify(this.state)\n        stateCopy.selectedTab = 'forgetPassword'\n        this.setState(stateCopy)\n    }\n    resetPassword(e){\n        e.preventDefault()\n        let email = this.state.formData.email\n        let reg = new RegExp(/@/)\n        if(email===''){\n            alert('邮箱为空')            \n        }else if(email.match(reg)){\n        sendPasswordResetEmail(email)\n        }else{\n            alert('邮箱地址无效')\n        }\n    }\n    returnToSignIn(e){\n        e.preventDefault()\n        let stateCopy = JSONParseAndStringify(this.state)\n        stateCopy.selectedTab = 'signInOrSignUp'\n        this.setState(stateCopy)\n    }\n}\n\nexport default UserDialog","import React, { Component } from 'react'\nimport './App.css'\nimport 'normalize.css'\nimport './reset.css'\nimport TodoInput from './TodoInput'\nimport TodoItem from './TodoItem'\nimport UserDialog from './UserDialog'\nimport { getCurrentUser, signOut,TodoModel } from './leanCloud';\nimport JSONParseAndStringify from './JSONParseAndStringify'\n\nclass App extends Component {\n    constructor() {\n        super()\n        this.state = {\n            user: getCurrentUser()||{},\n            newTodo: '',\n            todoList: []\n        }\n        let user = getCurrentUser()\n        if (user) {\n            TodoModel.getByUser(user, (todos) => {\n                let stateCopy = JSONParseAndStringify(this.state)\n                stateCopy.todoList = todos\n                this.setState(stateCopy)\n            })\n        }\n    }\n    render() {\n        let todos = this.state.todoList\n            .filter((item) => !item.deleted)\n            .map((item, index) => {\n                return <TodoItem todo={item} key={index}\n                    onToggle={this.toggle.bind(this)}\n                    onDelete={this.delete.bind(this)} />\n            })\n        return (\n            <div className='App'>\n                <h1>Todos\n                {this.state.user.id ?\n                        <button onClick={this.onSignOut.bind(this)}>登出</button> : null}</h1>\n                <div className=\"inputWrapper\">\n                    <TodoInput content={this.state.newTodo}\n                        onSubmit={this.addTodo.bind(this)}\n                        onChange={(this.changeTitle.bind(this))} />\n                </div>\n                <ol>\n                    {todos}\n                </ol>\n                {this.state.user.id ? null : <UserDialog\n                    onSignUp={this.onSignUpOrSignIn.bind(this)}\n                    onSignIn={this.onSignUpOrSignIn.bind(this)} />}\n            </div>\n        )\n    }\n\n    onSignUpOrSignIn(user) {\n        // this.state.user = user\n        // this.setState(this.state)\n        //直接修改会报错\n        // let stateCopy = JSONParseAndStringify(this.state)\n        // stateCopy.user = user//没有刷新todoList\n        // this.setState(stateCopy)\n        if (user) {\n            TodoModel.getByUser(user, (todos) => {\n                let stateCopy = JSONParseAndStringify(this.state)\n                stateCopy.todoList = todos\n                stateCopy.user = user\n                this.setState(stateCopy)\n            })\n        }\n    }\n    onSignOut() {\n        signOut()\n        let stateCopy = JSON.parse(JSON.stringify(this.state))\n        stateCopy.user = {}\n        this.setState(stateCopy)\n    }\n    delete(event, todo) {\n        TodoModel.destory(todo.id, () => {\n            todo.deleted = true\n            this.setState(this.state)\n        })\n    }\n    toggle(e, todo) {\n        let oldStatus = todo.status\n        todo.status = todo.status === 'completed' ? '' : 'completed'\n        TodoModel.update(todo,()=>{\n            this.setState(this.state)\n        },(error)=>{\n            todo.status = oldStatus\n            this.setState(this.state)\n        })\n    }\n    addTodo(event) {\n        let newTodo = {\n            title : event.target.value,\n            status:'',\n            deleted:false\n        }\n        TodoModel.create(newTodo,(id)=>{\n            newTodo.id = id\n            this.state.todoList.push(newTodo)\n            this.setState({\n                newTodo:'',\n                todoList:this.state.todoList\n            })\n        },(error) => {\n            console.log(error)\n        })\n    }\n    changeTitle(event) {\n        this.setState({\n            newTodo: event.target.value,\n            todoList: this.state.todoList\n        })\n    }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}